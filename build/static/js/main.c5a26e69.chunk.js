(this["webpackJsonpdjango-react-boilerplate"]=this["webpackJsonpdjango-react-boilerplate"]||[]).push([[0],{221:function(e,t,a){e.exports=a(390)},249:function(e,t,a){},390:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(39),i=a.n(o),c=a(24),r=a(28),s=a(26),d=a(25),m=a(27),u=a(41),p=a(48),h=a.n(p),g=function(e){return{type:"AUTH_SUCCESS",token:e}},f=function(e){return{type:"AUTH_FAIL",error:e}},v=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),{type:"AUTH_LOGOUT"}},E=function(e){return function(t){setTimeout((function(){t(v())}),1e3*e)}},w=(a(247),a(248),a(249),a(17)),b=a(36),y=a(47),x=a(19),N=a(405),O=a(406),k=a(400),j=a(407),_=a(403),z=a(402),C=a(404),S=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props.authenticated;return l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{fixed:"top",className:"navbar"},l.a.createElement(C.a.Item,{as:m.c,exact:!0,to:"/",name:"Home",className:"nav-brand"},l.a.createElement("img",{src:"/static/logo.png",alt:"logo"}),l.a.createElement("span",null,"Drive")),l.a.createElement("div",{className:"end-nav"},t?l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a.Item,{as:m.c,exact:!0,to:"/drive",name:"My Drive"}),l.a.createElement(C.a.Item,{header:!0,onClick:function(){return e.props.logout()}},"Logout")):l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a.Item,{header:!0,as:m.c,exact:!0,to:"/login"},"Login"),l.a.createElement(C.a.Item,{header:!0,as:m.c,exact:!0,to:"/signup"},"Signup")))),this.props.children)}}]),a}(l.a.Component),M=Object(w.g)(Object(u.b)((function(e){return{authenticated:null!==e.auth.token}}),(function(e){return{logout:function(){return e(v())}}}))(S)),I=Object(u.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,token:e.auth.token}}),(function(e){return{login:function(t,a){return e(function(e,t){return function(a){a({type:"AUTH_START"}),h.a.post("".concat("http://127.0.0.1:8000","/rest-auth/login/"),{username:e,password:t}).then((function(e){var t=e.data.key,n=new Date((new Date).getTime()+36e5);localStorage.setItem("token",t),localStorage.setItem("expirationDate",n),a(g(t)),a(E(3600))})).catch((function(e){a(f(e))}))}}(t,a))}}}))((function(e){var t=e.error,a=e.loading,o=Object(n.useState)({}),i=Object(x.a)(o,2),c=i[0],r=i[1],s=function(e){r(Object(y.a)(Object(y.a)({},c),{},Object(b.a)({},e.target.name,e.target.value)))};return l.a.createElement(M,null,l.a.createElement(N.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle"},l.a.createElement(N.a.Column,{style:{maxWidth:450}},l.a.createElement(O.a,{as:"h2",color:"teal",textAlign:"center"},"Log-in to your account"),t&&l.a.createElement("p",null,t.message),l.a.createElement(l.a.Fragment,null,l.a.createElement(k.a,{size:"large",onSubmit:function(t){t.preventDefault(),e.login(c.username,c.password)}},l.a.createElement(j.a,{stacked:!0},l.a.createElement(k.a.Input,{onChange:s,value:c.username,name:"username",fluid:!0,icon:"user",iconPosition:"left",placeholder:"Username"}),l.a.createElement(k.a.Input,{onChange:s,fluid:!0,value:c.password,name:"password",icon:"lock",iconPosition:"left",placeholder:"Password",type:"password"}),l.a.createElement(_.a,{color:"teal",fluid:!0,size:"large",loading:a,disabled:a},"Login"))),l.a.createElement(z.a,null,"New to us? ",l.a.createElement(m.c,{to:"/signup"},"Sign Up"))))))})),F=Object(u.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,token:e.auth.token}}),(function(e){return{signup:function(t,a,n,l){return e(function(e,t,a,n){return function(l){l({type:"AUTH_START"}),h.a.post("".concat("http://127.0.0.1:8000","/rest-auth/registration/"),{username:e,email:t,password1:a,password2:n}).then((function(e){var t=e.data.key,a=new Date((new Date).getTime()+36e5);localStorage.setItem("token",t),localStorage.setItem("expirationDate",a),l(g(t)),l(E(3600))})).catch((function(e){l(f(e))}))}}(t,a,n,l))}}}))((function(e){var t=e.error,a=e.loading,o=Object(n.useState)({}),i=Object(x.a)(o,2),c=i[0],r=i[1],s=function(e){r(Object(y.a)(Object(y.a)({},c),{},Object(b.a)({},e.target.name,e.target.value)))};return l.a.createElement(M,null,l.a.createElement(N.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle"},l.a.createElement(N.a.Column,{style:{maxWidth:450}},l.a.createElement(O.a,{as:"h2",color:"teal",textAlign:"center"},"Signup to your account"),t&&l.a.createElement("p",null,e.error.message),l.a.createElement(l.a.Fragment,null,l.a.createElement(k.a,{size:"large",onSubmit:function(t){t.preventDefault(),e.signup(c.username,c.email,c.password1,c.password2)}},l.a.createElement(j.a,{stacked:!0},l.a.createElement(k.a.Input,{onChange:s,value:c.username,name:"username",fluid:!0,icon:"user",iconPosition:"left",placeholder:"Username"}),l.a.createElement(k.a.Input,{onChange:s,value:c.email,name:"email",fluid:!0,icon:"mail",iconPosition:"left",placeholder:"E-mail address"}),l.a.createElement(k.a.Input,{onChange:s,fluid:!0,value:c.password1,name:"password1",icon:"lock",iconPosition:"left",placeholder:"Password",type:"password"}),l.a.createElement(k.a.Input,{onChange:s,fluid:!0,value:c.password2,name:"password2",icon:"lock",iconPosition:"left",placeholder:"Confirm password",type:"password"}),l.a.createElement(_.a,{color:"teal",fluid:!0,size:"large",loading:a,disabled:a},"Signup"))),l.a.createElement(z.a,null,"Already have an account? ",l.a.createElement(m.c,{to:"/login"},"Login"))))))})),H=a(136),L=a.n(H),D=a(59),A=a(205),T=a(42),V=a(408),B=a(401),U=a(74),W=a(137),P=a(212),R=a(207),q=a.n(R),G=a(105),Y=a.n(G),Q=a(53),X=a(75),J=a(209),Z=function(e){return e.append("token",localStorage.getItem("token")),new Promise((function(t,a){h.a.post("".concat("http://127.0.0.1:8000","/api-upload/upload/"),e).then((function(e){t(e.data)})).catch((function(e){console.warn(e),a(e)}))}))},K={get_started:"https://drive-thirdparty.googleusercontent.com/16/type/application/pdf",image:"https://www.gstatic.com/docs/doclist/images/mediatype/icon_1_image_x16.png",doc:"https://www.gstatic.com/docs/doclist/images/mediatype/icon_1_word_x16.png",doc_other:"https://drive-thirdparty.googleusercontent.com/16/type/application/vnd.google-apps.document",spreadsheet:"https://www.gstatic.com/docs/doclist/images/mediatype/icon_1_spreadsheet_x16.png",powerpoint:"https://www.gstatic.com/docs/doclist/images/mediatype/icon_1_powerpoint_x16.png",pdf:"https://www.gstatic.com/docs/doclist/images/mediatype/icon_1_pdf_x16.png",pdf_other:"https://drive-thirdparty.googleusercontent.com/16/type/application/pdf",archive:"https://www.gstatic.com/docs/doclist/images/mediatype/icon_1_archive_x16.png",exe:"https://drive-thirdparty.googleusercontent.com/16/type/application/x-msdownload",video:"https://drive-thirdparty.googleusercontent.com/16/type/video/webm",audio:"https://drive-thirdparty.googleusercontent.com/16/type/audio/mpeg",text:"https://drive-thirdparty.googleusercontent.com/16/type/text/xml",msdos:"https://drive-thirdparty.googleusercontent.com/16/type/application/x-msdos-program",shellscript:"https://drive-thirdparty.googleusercontent.com/16/type/application/x-shellscript",file:"https://drive-thirdparty.googleusercontent.com/16/type/application/octet-stream",unkown:"https://drive-thirdparty.googleusercontent.com/16/type/application/x-ms-dos-executable"},$={archive:"https://drive-thirdparty.googleusercontent.com/128/type/application/x-zip-compressed",exe:"https://drive-thirdparty.googleusercontent.com/128/type/application/x-msdownload",video:"https://drive-thirdparty.googleusercontent.com/128/type/video/webm",audo:"https://drive-thirdparty.googleusercontent.com/128/type/audio/mpeg",text:"https://drive-thirdparty.googleusercontent.com/128/type/text/xml",msdos:"https://drive-thirdparty.googleusercontent.com/128/type/application/x-msdos-program",shellscript:"https://drive-thirdparty.googleusercontent.com/128/type/application/x-shellscript",file:"https://drive-thirdparty.googleusercontent.com/128/type/application/octet-stream",doc:"https://www.gstatic.com/docs/doclist/images/mediatype/icon_1_word_x128.png",spreadsheet:"https://www.gstatic.com/docs/doclist/images/mediatype/icon_1_spreadsheet_x128.png",powerpoint:"https://www.gstatic.com/docs/doclist/images/mediatype/icon_1_powerpoint_x128.png",pdf:"https://www.gstatic.com/docs/doclist/images/mediatype/icon_1_pdf_x128.png",getting_started:"https://images2.imgbox.com/ec/55/ZZt0w3pA_o.png",unkown:"https://drive-thirdparty.googleusercontent.com/128/type/application/x-ms-dos-executable"},ee=function(e){return e.type.includes("get_started")?K.get_started:e.type.includes("image")?K.image:e.type.includes("sheet")||e.type.includes("csv")?K.spreadsheet:e.type.includes("powerpoint")||e.type.includes("presentation")?K.powerpoint:e.type.includes("pdf")?K.pdf:e.type.includes("document")?K.doc:e.type.includes("rar")||e.type.includes("zip")||e.type.includes("compressed")?K.archive:e.type.includes("video")?K.video:e.type.includes("audio")?K.audio:e.type.includes("text")||e.type.includes("x-javascript")||e.type.includes("json")?K.text:e.type.includes("shellscript")||e.type.includes("sql")||e.type.includes("ca-cert")?K.shellscript:e.type.includes("vnd.ms-wpl")||e.type.includes("x-ms-dos-executable")||e.type.includes("x-msi")?K.unkown:e.type.includes("x-msdos-program")?K.msdos:e.type.includes("exe")?K.exe:(e.type.includes("props"),K.props)},te=function(e){return e.type.includes("get_started")||e.type.includes("image")?e.path:e.type.includes("sheet")||e.type.includes("csv")?$.spreadsheet:e.type.includes("powerpoint")||e.type.includes("presentation")?$.powerpoint:e.type.includes("pdf")?$.pdf:e.type.includes("document")?$.doc:e.type.includes("rar")||e.type.includes("zip")||e.type.includes("compressed")?$.archive:e.type.includes("video")?$.video:e.type.includes("audio")?$.audio:e.type.includes("text")||e.type.includes("x-javascript")||e.type.includes("json")?$.text:e.type.includes("shellscript")||e.type.includes("sql")||e.type.includes("ca-cert")?$.shellscript:e.type.includes("vnd.ms-wpl")||e.type.includes("x-ms-dos-executable")||e.type.includes("x-msi")?$.unkown:e.type.includes("x-msdos-program")?$.msdos:e.type.includes("exe")?$.exe:(e.type.includes("props"),$.props)},ae=["detail-view","quick-view","folder-view","quick-context-area"],ne=["file-view","image-view","icon","image","detail-view","icon-box","text-box","tooltip","list-view","td-name","td-owner","td-modified","td-size","guesture"],le=a(208),oe=a.n(le),ie=function(e){return l.a.createElement("div",{className:"file-view",id:"file-view "+e.id},l.a.createElement("div",{className:"image-view",id:"image-view "+e.id},l.a.createElement("img",{src:te(e),alt:e.name,className:e.type.includes("image")?"image":"icon",id:e.type.includes("image")?"image "+e.id:"icon "+e.id})),l.a.createElement("div",{className:"detail-view",id:"detail-view "+e.id},l.a.createElement("div",{className:"icon-box",id:"icon-box "+e.id},l.a.createElement("img",{src:ee(e),alt:e.name,className:"icon",id:"icon "+e.id})),l.a.createElement("div",{className:"text-box",id:"text-box "+e.id},l.a.createElement(Q.a,{trigger:l.a.createElement("button",{className:"tooltip",id:"tooltip "+e.id},e.name),position:"top center",on:"hover",arrow:!1},l.a.createElement("div",null,e.name)))))},ce=function(e){var t=oe()(new Date).format("MMM DD, YYYY"),a=e.size;return l.a.createElement("div",{className:"list-view",id:"live-view "+e.id},l.a.createElement("div",{className:"td-name",id:"td-name "+e.id},l.a.createElement("div",{className:"icon-box",id:"icon-box "+e.id},l.a.createElement("img",{src:ee(e),alt:e.name,className:"icon",id:"icon "+e.id})),l.a.createElement("div",{className:"text-box",id:"text-box "+e.id},l.a.createElement(Q.a,{trigger:l.a.createElement("button",{className:"tooltip",id:"tooltip "+e.id},e.name),position:"top center",on:"hover",arrow:!1},l.a.createElement("div",null,e.name)))),l.a.createElement("div",{className:"td-owner",id:"td-owner "+e.id},l.a.createElement("span",null,e.owner?e.owner:"me")),l.a.createElement("div",{className:"td-modified",id:"td-modified "+e.id},l.a.createElement("span",null,e.last_modified?e.last_modified:t)),l.a.createElement("div",{className:"td-size",id:"td-size "+e.id},l.a.createElement("span",null,e.size?function(e){if(0===e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]}(a):"_")))},re=function(e){return l.a.createElement("div",{className:"folder-view",id:"folder-view "+e.id},l.a.createElement("div",{className:"icon-box",id:"icon-box "+e.id},l.a.createElement("svg",{x:"0px",y:"0px",focusable:"false",viewBox:"0 0 24 24",height:"24px",width:"24px",fill:"#5f6368"},l.a.createElement("g",null,l.a.createElement("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}),l.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})))),l.a.createElement("div",{className:"text-box",id:"text-box "+e.id},l.a.createElement(Q.a,{trigger:l.a.createElement("button",{className:"tooltip",id:"tooltip "+e.id},e.name),position:"top center",on:"hover",arrow:!1},l.a.createElement("div",null,e.name))))},se=function(){Y.a.setAppElement("#root");var e=Object(n.useRef)(),t=Object(n.useState)(!1),a=Object(x.a)(t,2),o=a[0],i=a[1],c=Object(n.useState)(!1),r=Object(x.a)(c,2),s=r[0],d=r[1],u=Object(n.useState)(!1),p=Object(x.a)(u,2),g=p[0],f=p[1],v=Object(n.useState)(!1),E=Object(x.a)(v,2),w=E[0],b=E[1],y=Object(n.useState)(!0),N=Object(x.a)(y,2),O=N[0],k=N[1],j=Object(n.useState)(!1),_=Object(x.a)(j,2),z=_[0],S=_[1],I=Object(n.useState)(!0),F=Object(x.a)(I,2),H=F[0],R=F[1],G=Object(n.useState)(!0),K=Object(x.a)(G,2),te=K[0],le=K[1],oe=Object(n.useState)(0),se=Object(x.a)(oe,2),de=se[0],me=se[1],ue=Object(n.useState)(0),pe=Object(x.a)(ue,2),he=pe[0],ge=pe[1],fe=Object(n.useState)([]),ve=Object(x.a)(fe,2),Ee=ve[0],we=ve[1],be=Object(n.useState)([]),ye=Object(x.a)(be,2),xe=ye[0],Ne=ye[1],Oe=Object(n.useState)([{path:$.getting_started,content_type:"image get_started",name:"Getting started",size:"",id:0}]),ke=Object(x.a)(Oe,2),je=ke[0],_e=ke[1],ze=Object(n.useState)({}),Ce=Object(x.a)(ze,2),Se=Ce[0],Me=Ce[1],Ie=Object(n.useState)(""),Fe=Object(x.a)(Ie,2),He=Fe[0],Le=Fe[1],De=Object(n.useState)([]),Ae=Object(x.a)(De,2),Te=Ae[0],Ve=Ae[1];Object(n.useEffect)((function(){new Promise((function(e,t){h.a.post("".concat("http://127.0.0.1:8000","/api-upload/get/"),{token:localStorage.getItem("token")}).then((function(t){e(t.data)})).catch((function(e){console.warn(e),t(e)}))})).then((function(e){if(e.length>0){var t=je[0],a=[];e.map((function(t,n){n>e.length-6&&a.push(t)})),_e(a);var n=[t].concat(e);Ne(n)}else Ne(e)}))}),[w]),Object(n.useEffect)((function(){ge(he+de)}),[de]);var Be=Object(n.useCallback)((function(e){if(2===e.button&&!W.isMobileOnly)if(ae.includes(e.target.id))S(!1),k(!0);else if(ne.includes(e.target.className)){var t=e.target.id.split(" ")[1];if("0"!==t){S(!1),k(!1);var a=xe.find((function(e){return e.id===parseInt(t)}));Me(a)}else S(!0),Me([])}else S(!0),Me([])}),[O,xe]),Ue=Object(n.useCallback)((function(e){le(!te);var t=[];t=te?xe.sort((function(e,t){return e.name.localeCompare(t.name)})):xe.sort((function(e,t){return t.name.localeCompare(e.name)})),Ne(t)}),[te,xe]),We=function(t){"upload_file"===t?e.current.click():console.log(t)},Pe=function(t,a){if("new_folder"===a.foo&&d(!0),"upload_file"===a.foo&&e.current.click(),"download"===a.foo&&Se){var n=Se.path,l=document.createElement("A");l.href=n,l.download=n.substr(n.lastIndexOf("/")+1),document.body.appendChild(l),l.click(),document.body.removeChild(l)}},Re=function(){var e=Object(A.a)(L.a.mark((function e(t){var a,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new FormData,n=[],Object.values(t.target.files).forEach((function(e){a.append("file",e),n.push(e)})),we((function(e){return e.concat(n)})),me(de+t.target.files.length),i(!0),Z(a).then((function(e){var t=Object(D.a)(xe);e.forEach((function(e){t.push(e)})),Ne(t),b(!0),me(0)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qe=function(){i(!1),ge(0),we([])},Ge=function(){d(!1)},Ye=Object(J.a)({onMouseDown:function(e){if(0===e.button)if(W.isMobileOnly){var t=e.target.id.split(" ")[1];if("0"!==t){var a=xe.find((function(e){return e.id===parseInt(t)}));Me(a);var n=a.path,l=document.createElement("A");l.href=n,l.download=n.substr(n.lastIndexOf("/")+1),document.body.appendChild(l),l.click(),document.body.removeChild(l)}else S(!0),Me([])}else if(S(!0),e.target.id){var o=e.target.id.split(" ")[1],i=xe.find((function(e){return e.id===parseInt(o)}));Me(i)}}});return function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,l=Object(n.useRef)();Object(n.useEffect)((function(){l.current=t}),[t]),Object(n.useEffect)((function(){if(a&&a.addEventListener){var t=function(e){return l.current(e)};return a.addEventListener(e,t),function(){a.removeEventListener(e,t)}}}),[e,a])}("mousedown",Be),l.a.createElement(M,null,l.a.createElement("div",{className:"explorer-page"},l.a.createElement(Y.a,{isOpen:o,onRequestClose:qe,className:"file-upload-modal",overlayClassName:"file-upload-modal-overlay"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("div",{className:"loading-status"},!w&&l.a.createElement("span",null,"Uploading ",de," ",de>1?"items":"item"),w&&l.a.createElement("span",null,he," \xa0",he>1?"uploads ":"upload ","completed")),l.a.createElement("div",{className:"btn-group"},l.a.createElement(Q.a,{trigger:l.a.createElement("button",{className:"tooltip",onClick:function(){f(!g)}},g?l.a.createElement("svg",{x:"0px",y:"0px",width:"14px",height:"14px",viewBox:"0 0 24 24",focusable:"false"},l.a.createElement("path",{fill:"#FFFFFF",d:"M2.83,18.83L12,9.66l9.17,9.17L24,16,12,4,0,16z"})):l.a.createElement("svg",{x:"0px",y:"0px",width:"14px",height:"14px",viewBox:"0 0 24 24",focusable:"false"},l.a.createElement("path",{fill:"#FFFFFF",d:"M21.17,5.17L12,14.34l-9.17-9.17L0,8l12,12,12-12z"}))),position:"bottom center",on:"hover",arrow:!1},l.a.createElement("span",{className:"content"},"Minimize")),l.a.createElement(Q.a,{trigger:l.a.createElement("button",{className:"tooltip",onClick:qe},l.a.createElement("svg",{x:"0px",y:"0px",width:"14px",height:"14px",viewBox:"0 0 10 10",focusable:"false",fill:"#FFFFFF"},l.a.createElement("polygon",{points:"10,1.01 8.99,0 5,3.99 1.01,0 0,1.01 3.99,5 0,8.99 1.01,10 5,6.01 8.99,10 10,8.99 6.01,5 "}))),position:"bottom center",on:"hover",arrow:!1},l.a.createElement("span",{className:"content"},"Close")))),!g&&l.a.createElement("div",{className:he>10?"modal-body extra":"modal-body"},Object.values(Ee).map((function(e,t){return l.a.createElement("div",{className:"item",key:t},l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:w?"logo":"logo loading"},l.a.createElement("img",{src:ee(e),alt:e.name})),l.a.createElement("div",{className:w?"name":"name loading"},l.a.createElement("span",null,e.name),l.a.createElement("span",null)),l.a.createElement("div",{className:"status"},w?l.a.createElement("div",{className:"icon"},l.a.createElement(P.a,null,(function(e){var t=e.isHovering;return l.a.createElement(l.a.Fragment,null,t?l.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",focusable:"false"},l.a.createElement("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"})):l.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"#0F9D58"},l.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})))}))):l.a.createElement(q.a,{type:"spin",color:"#929292",className:"loading"}))))})))),l.a.createElement(Y.a,{isOpen:s,onRequestClose:Ge,className:"create-folder-modal",overlayClassName:"modal-overlay"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("span",null,"New folder"),l.a.createElement(Q.a,{trigger:l.a.createElement("button",{className:"tooltip",onClick:Ge},l.a.createElement("svg",{x:"0px",y:"0px",width:"14px",height:"14px",viewBox:"0 0 10 10",focusable:"false",fill:"#000000"},l.a.createElement("polygon",{points:"10,1.01 8.99,0 5,3.99 1.01,0 0,1.01 3.99,5 0,8.99 1.01,10 5,6.01 8.99,10 10,8.99 6.01,5 "}))),position:"bottom center",on:"hover",arrow:!1},l.a.createElement("span",{className:"content"},"Close"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("input",{className:"input",onChange:function(e){Le(e.target.value)}})),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{className:"btn",onClick:Ge},"Close"),l.a.createElement("button",{className:"btn save",onClick:function(){var e;(e=He,new Promise((function(t,a){h.a.post("".concat("http://127.0.0.1:8000","/api/create/"),e).then((function(e){t(e.data)})).catch((function(e){console.warn(e),a(e)}))}))).then((function(e){d(!1);var t=[],a={id:0,name:He};t.push(a),Ve(t)}))}},"Save"))),l.a.createElement(T.b,{id:"context-menu",disable:z},l.a.createElement(V.a,{as:C.a,vertical:!0,visible:!0},l.a.createElement(B.a,{text:"New",icon:null,labeled:!0,className:"button-tool"},l.a.createElement(B.a.Menu,null,l.a.createElement(B.a.Item,{icon:"folder outline",label:"New folder",onClick:function(e){return We("new_folder")}}),l.a.createElement(B.a.Divider,null),l.a.createElement(B.a.Item,{icon:"upload",label:"Upload files",onClick:function(e){return We("upload_file")}}),l.a.createElement(B.a.Item,{icon:"folder outline",label:"Upload folder",onClick:function(e){return We("upload_folder")}}),l.a.createElement(B.a.Divider,null),l.a.createElement(B.a.Item,{icon:"google",label:"Google Docs",onClick:function(e){return We("google_docs")}}))),l.a.createElement(C.a.Item,{as:m.b,to:"/explorer"},l.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"#000000",focusable:"false"},l.a.createElement("path",{d:"M19 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 18H5v-1h14v1zm0-3H5V4h14v13zm-9.35-2h5.83l1.39-2.77h-5.81zm7.22-3.47L13.65 6h-2.9L14 11.53zm-5.26-2.04l-1.45-2.52-3.03 5.51L8.6 15z"})),l.a.createElement("span",null,"My Drive"))),l.a.createElement("div",{className:"page-container"},l.a.createElement("div",{className:"page-navbar"},l.a.createElement("div",{className:"navbar-dropdown-menu"},l.a.createElement(B.a,{text:"My Drive",labeled:!0,className:"navbar-dropdown"},l.a.createElement(B.a.Menu,null,l.a.createElement(B.a.Item,{icon:"folder outline",label:"New folder",onClick:function(e){return We("new_folder")}}),l.a.createElement(B.a.Divider,null),l.a.createElement(B.a.Item,{icon:"upload",label:"Upload files",onClick:function(e){return We("upload_file")}}),l.a.createElement(B.a.Item,{icon:"folder outline",label:"Upload folder",onClick:function(e){return We("upload_folder")}}),l.a.createElement(B.a.Divider,null),l.a.createElement(B.a.Item,{icon:"google",label:"Google Docs",onClick:function(e){return We("google_docs")}})))),l.a.createElement("div",{className:"navbar-tools"},l.a.createElement("button",{className:"btn-layout",onClick:function(){R(!H)}},H?l.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",focusable:"false",fill:"#000000"},l.a.createElement("path",{d:"M3,5v14h18V5H3z M7,7v2H5V7H7z M5,13v-2h2v2H5z M5,15h2v2H5V15z M19,17H9v-2h10V17z M19,13H9v-2h10V13z M19,9H9V7h10V9z"})):l.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"#000000"},l.a.createElement("path",{d:"M2,5v14h20V5H2z M14,7v4h-4V7H14z M4,7h4v4H4V7z M16,11V7h4v4H16z M4,17v-4h4v4H4z M10,17v-4h4v4H10z M20,17 h-4v-4h4V17z"}),l.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),l.a.createElement("button",{className:"btn-layout",onClick:function(){console.log("Show Detail View")}},l.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"#000000"},l.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),l.a.createElement("path",{d:"M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"}))))),l.a.createElement("div",{className:"context-area"},xe.length>0?l.a.createElement("div",{className:"layout-view"},l.a.createElement("div",{className:"layout-content quick"},l.a.createElement("div",{className:"layout-header"},l.a.createElement("h2",null,"Quick Access")),l.a.createElement("div",{className:"main-content"},je.map((function(e,t){return l.a.createElement(X.a.div,Object.assign({},Ye(),{className:e.id===Se.id?"guesture active":"guesture",id:"guesture "+e.id,key:t}),l.a.createElement(ie,{path:e.path,type:e.content_type,name:e.name,id:e.id}))})))),Te.length>0&&H&&l.a.createElement("div",{className:"layout-content folder"},l.a.createElement("div",{className:"layout-header"},l.a.createElement("h2",null,"Folders")),l.a.createElement("div",{className:"main-content",id:"folder-view"},Te.map((function(e,t){return l.a.createElement(X.a.div,Object.assign({},Ye(),{className:e.id===Se.id?"guesture active":"guesture",id:"guesture "+e.id,key:t}),l.a.createElement(re,{name:e.name,id:e.id}))})))),l.a.createElement("div",{className:"layout-content file"},l.a.createElement("div",{className:"layout-header"},H&&l.a.createElement("h2",null,"Files"),!H&&l.a.createElement("div",{className:"list-tool"},l.a.createElement("div",{className:"td-name"},l.a.createElement("span",null,"Name"),l.a.createElement("button",{class:"direction",onClick:Ue},te?l.a.createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 48 48",focusable:"false",fill:"#000000"},l.a.createElement("path",{fill:"none",d:"M0 0h48v48H0V0z"}),l.a.createElement("path",{d:"M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z"})):l.a.createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 48 48",focusable:"false",fill:"#000000"},l.a.createElement("path",{fill:"none",d:"M0 0h48v48H0V0z"}),l.a.createElement("path",{d:"M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z"})))),l.a.createElement("div",{className:"td-owner"},l.a.createElement("span",null,"Owner")),l.a.createElement("div",{className:"td-modified"},l.a.createElement("span",null,"Last modified")),l.a.createElement("div",{className:"td-size"},l.a.createElement("span",null,"File size")))),l.a.createElement("div",{className:"main-content",id:"detail-view"},H&&xe.map((function(e,t){return l.a.createElement(X.a.div,Object.assign({},Ye(),{className:e.id===Se.id?"guesture active":"guesture",id:"guesture "+e.id,key:t}),l.a.createElement(ie,{path:e.path,type:e.content_type,name:e.name,id:e.id}))})),!H&&l.a.createElement("div",{className:"list-group"},xe.map((function(e,t){return l.a.createElement(X.a.div,Object.assign({},Ye(),{className:e.id===Se.id?"guesture active":"guesture",id:"guesture "+e.id,key:t}),l.a.createElement(ce,{owner:"",last_modified:"",type:e.content_type,name:e.name,size:e.size,id:e.id}))})))))):l.a.createElement("div",{className:"layout-view",id:"quick-context-area"},Te.length>0&&l.a.createElement("div",{className:"layout-content folder"},l.a.createElement("div",{className:"layout-header"},l.a.createElement("h2",null,"Folders")),l.a.createElement("div",{className:"main-content",id:"folder-view"},H&&Te.map((function(e,t){return l.a.createElement(X.a.div,Object.assign({},Ye(),{className:e.id===Se.id?"guesture active":"guesture",id:"guesture "+e.id,key:t}),l.a.createElement(re,{name:"asd",id:"0"}))})))),l.a.createElement("div",{className:"layout-content quick"},l.a.createElement("div",{className:"layout-header"},H&&l.a.createElement("h2",null,"Files"),!H&&l.a.createElement("div",{className:"list-tool"},l.a.createElement("div",{className:"td-name"},l.a.createElement("span",null,"Name"),l.a.createElement("button",{class:"direction",onClick:Ue},te?l.a.createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 48 48",focusable:"false",fill:"#000000"},l.a.createElement("path",{fill:"none",d:"M0 0h48v48H0V0z"}),l.a.createElement("path",{d:"M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z"})):l.a.createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 48 48",focusable:"false",fill:"#000000"},l.a.createElement("path",{fill:"none",d:"M0 0h48v48H0V0z"}),l.a.createElement("path",{d:"M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z"})))),l.a.createElement("div",{className:"td-owner"},l.a.createElement("span",null,"Owner")),l.a.createElement("div",{className:"td-modified"},l.a.createElement("span",null,"Last modified")),l.a.createElement("div",{className:"td-size"},l.a.createElement("span",null,"File size")))),l.a.createElement("div",{className:"main-content",id:"quick-view"},H&&je.map((function(e,t){return l.a.createElement("div",{className:"guesture"},l.a.createElement(ie,{key:t,path:e.path,type:e.content_type,name:e.name,id:e.id}))})),!H&&je.map((function(e,t){return l.a.createElement("div",{className:"guesture"},l.a.createElement(ce,{key:t,owner:"",last_modified:"",type:e.content_type,name:e.name,size:e.size,id:e.id}))}))))))),l.a.createElement(T.a,{id:"context-menu"},O?l.a.createElement(l.a.Fragment,null,l.a.createElement(T.c,{data:{foo:"new_folder"},onClick:Pe},l.a.createElement(U.a,{name:"folder outline"})," New folder"),l.a.createElement(T.c,{divider:!0}),l.a.createElement(T.c,{data:{foo:"upload_file"},onClick:Pe},l.a.createElement(U.a,{name:"upload"})," Upload files",l.a.createElement("input",{type:"file",hidden:!0,multiple:!0,onChange:Re,ref:e})),l.a.createElement(T.c,{data:{foo:"upload_folder"},onClick:Pe},l.a.createElement(U.a,{name:"folder outline"})," Upload folder"),l.a.createElement(T.c,{divider:!0}),l.a.createElement(T.c,{data:{foo:"google_doc"},onClick:Pe},l.a.createElement(U.a,{name:"google"})," Google Docs")):l.a.createElement(l.a.Fragment,null,l.a.createElement(T.c,{data:{foo:"download"},onClick:Pe},l.a.createElement(U.a,{name:"cloud download"})," Download"))))))},de=a(409),me=a(399),ue=a(211),pe=function(){return"undefined"===typeof window?de.a.onlyTablet.minWidth:window.innerWidth},he=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={},e.hideFixedMenu=function(){return e.setState({fixed:!1})},e.showFixedMenu=function(){return e.setState({fixed:!0})},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.children;this.state.fixed;return l.a.createElement(de.a,{getWidth:pe,minWidth:de.a.onlyTablet.minWidth},l.a.createElement(me.a,{once:!1,onBottomPassed:this.showFixedMenu,onBottomPassedReverse:this.hideFixedMenu}),e)}}]),a}(n.Component),ge=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={},e.handleSidebarHide=function(){return e.setState({sidebarOpened:!1})},e.handleToggle=function(){return e.setState({sidebarOpened:!0})},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.children;this.state.sidebarOpened;return l.a.createElement(de.a,{as:V.a.Pushable,getWidth:pe,maxWidth:de.a.onlyMobile.maxWidth},e)}}]),a}(n.Component),fe=function(e){var t=e.children;return l.a.createElement("div",null,l.a.createElement(he,null,t),l.a.createElement(ge,null,t))},ve=function(){return l.a.createElement(M,null,l.a.createElement(fe,null,l.a.createElement(j.a,{style:{padding:"8em 0em"},vertical:!0},l.a.createElement(N.a,{container:!0,stackable:!0,verticalAlign:"middle"},l.a.createElement(N.a.Row,null,l.a.createElement(N.a.Column,{width:8},l.a.createElement(O.a,{as:"h3",style:{fontSize:"2em"}},"We Help Companies and Companions"),l.a.createElement("p",{style:{fontSize:"1.33em"}},"We can give your company superpowers to do things that they never thought possible. Let us delight your customers and empower your needs... through pure data analytics."),l.a.createElement(O.a,{as:"h3",style:{fontSize:"2em"}},"We Make Bananas That Can Dance"),l.a.createElement("p",{style:{fontSize:"1.33em"}},"Yes that's right, you thought it was the stuff of dreams, but even bananas can be bioengineered.")),l.a.createElement(N.a.Column,{floated:"right",width:6},l.a.createElement(ue.a,{bordered:!0,rounded:!0,size:"large",src:"https://i.ytimg.com/vi/kxzg_QXrV_k/maxresdefault.jpg"})))))))},Ee=function(){return l.a.createElement(w.d,null,l.a.createElement(w.b,{exact:!0,path:"/",component:ve}),l.a.createElement(w.b,{path:"/login",component:I}),l.a.createElement(w.b,{path:"/signup",component:F}),l.a.createElement(w.b,{render:function(){return l.a.createElement(w.a,{to:"/"})}}))},we=function(){return l.a.createElement(w.d,null,l.a.createElement(w.b,{exact:!0,path:"/",component:ve}),l.a.createElement(w.b,{path:"/login",render:function(){return l.a.createElement(w.a,{to:"/drive"})}}),l.a.createElement(w.b,{path:"/signup",render:function(){return l.a.createElement(w.a,{to:"/drive"})}}),l.a.createElement(w.b,{path:"/drive",component:se}))},be=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.onAuthCheck()}},{key:"render",value:function(){return l.a.createElement(m.a,null,this.props.isAuthenticated?l.a.createElement(we,null):l.a.createElement(Ee,null))}}]),a}(n.Component),ye=Object(u.b)((function(e){return{isAuthenticated:null!==e.auth.token}}),(function(e){return{onAuthCheck:function(){return e((function(e){var t=localStorage.getItem("token");if(null!==t){var a=new Date(localStorage.getItem("expirationDate"));a<=new Date?e(v()):(e(g(t)),e(E((a.getTime()-(new Date).getTime())/1e3)))}}))}}}))(be),xe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ne(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Oe=a(58),ke=a(210),je=function(e,t){return Object(y.a)(Object(y.a)({},e),t)},_e=function(e,t){return je(e,{error:null,loading:!0})},ze=function(e,t){return je(e,{token:t.token,error:null,loading:!1})},Ce=function(e,t){return je(e,{error:t.error,loading:!1})},Se=function(e,t){return je(e,{token:null})},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return _e(e);case"AUTH_SUCCESS":return ze(e,t);case"AUTH_FAIL":return Ce(e,t);case"AUTH_LOGOUT":return Se(e);default:return e}},Ie=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Oe.d,Fe=Object(Oe.c)({auth:Me}),He={auth:{token:localStorage.getItem("token"),error:null,loading:!1}},Le=Object(Oe.e)(Fe,He,Ie(Object(Oe.a)(ke.a))),De=l.a.createElement(u.a,{store:Le},l.a.createElement(ye,null));i.a.render(De,document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");xe?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ne(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Ne(e)}))}}()}},[[221,1,2]]]);
//# sourceMappingURL=main.c5a26e69.chunk.js.map